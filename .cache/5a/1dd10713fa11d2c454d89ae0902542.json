{"id":"ZVl3","dependencies":[{"name":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\package.json","includedInParent":true,"mtime":1594300498284},{"name":"../styles/home.css","loc":{"line":1,"column":7},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\styles\\home.css"},{"name":"react","loc":{"line":3,"column":18},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\node_modules\\react\\index.js"},{"name":"three","loc":{"line":5,"column":23},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\node_modules\\three\\build\\three.module.js"},{"name":"lodash.debounce","loc":{"line":6,"column":21},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\node_modules\\lodash.debounce\\index.js"},{"name":"./three-examples/loaders/GLTFLoader","loc":{"line":8,"column":27},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\three-examples\\loaders\\GLTFLoader.js"},{"name":"./three-examples/postprocessing/EffectComposer","loc":{"line":9,"column":31},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\three-examples\\postprocessing\\EffectComposer.js"},{"name":"./three-examples/postprocessing/RenderPass","loc":{"line":10,"column":27},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\three-examples\\postprocessing\\RenderPass.js"},{"name":"./three-examples/postprocessing/ShaderPass","loc":{"line":11,"column":27},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\three-examples\\postprocessing\\ShaderPass.js"},{"name":"./three-examples/controls/OrbitControls","loc":{"line":12,"column":30},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\three-examples\\controls\\OrbitControls.js"},{"name":"../shaders/Additive","loc":{"line":14,"column":27},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\shaders\\Additive.js"},{"name":"../shaders/ASCII","loc":{"line":15,"column":24},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\shaders\\ASCII.js"},{"name":"../shaders/Ripple","loc":{"line":16,"column":25},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\shaders\\Ripple.js"},{"name":"../shaders/Scan","loc":{"line":17,"column":23},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\shaders\\Scan.js"},{"name":"../shaders/VertexLitParticle","loc":{"line":18,"column":30},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\shaders\\VertexLitParticle.js"},{"name":"../shaders/VolumetricLightScattering","loc":{"line":19,"column":38},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\shaders\\VolumetricLightScattering.js"},{"name":"../shaders/VolumetricLightCylinder","loc":{"line":20,"column":36},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\shaders\\VolumetricLightCylinder.js"},{"name":"./devface.glb","loc":{"line":87,"column":29},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\devface.glb"},{"name":"./font3.png","loc":{"line":370,"column":29},"parent":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\graphics.js","resolved":"C:\\Users\\Dev Seth\\Personal Programs\\devseth.com\\source\\src\\graphics\\font3.png"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0,require(\"../styles/home.css\");var e=w(require(\"react\")),t=C(require(\"three\")),i=w(require(\"lodash.debounce\")),n=require(\"./three-examples/loaders/GLTFLoader\"),r=require(\"./three-examples/postprocessing/EffectComposer\"),o=require(\"./three-examples/postprocessing/RenderPass\"),a=require(\"./three-examples/postprocessing/ShaderPass\"),s=require(\"./three-examples/controls/OrbitControls\"),l=w(require(\"../shaders/Additive\")),c=w(require(\"../shaders/ASCII\")),h=w(require(\"../shaders/Ripple\")),u=w(require(\"../shaders/Scan\")),d=w(require(\"../shaders/VertexLitParticle\")),f=w(require(\"../shaders/VolumetricLightScattering\")),p=w(require(\"../shaders/VolumetricLightCylinder\"));function m(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function C(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(i,r,o):i[r]=e[r]}return i.default=e,t&&t.set(e,i),i}function w(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t,i){return t&&v(e.prototype,t),i&&v(e,i),e}function R(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=O();return function(){var i,n=x(e);if(t){var r=x(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return L(this,i)}}function L(e,t){return!t||\"object\"!==g(t)&&\"function\"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function O(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var M=function(s){R(C,e.default.Component);var m=b(C);function C(){var i;return y(this,C),E(T(i=m.call(this)),\"renderScene\",function(){var e=i.clock.getDelta();i.modelContainer.rotation.y<-2.09?(i.rotationClockwise=!0,console.log(\"first\")):i.modelContainer.rotation.y>-1.05&&(i.rotationClockwise=!1,console.log(\"second\"),console.log(i.modelContainer.rotation.y)),i.rotationClockwise?i.modelContainer.rotation.y+=.2*e:i.modelContainer.rotation.y-=.2*e,i.animateParticles(e),i.scanPass.uniforms.scan.value=(i.scanPass.uniforms.scan.value+.5*e)%2,i.lightCone.lookAt(i.lightConeTarget),i.lightCylinderMaterial.uniforms.spotPosition.value=i.lightCone.position;var t=i.lightCone.position.clone().project(i.occlusionCamera);i.lightScatteringPass.uniforms.lightPosition.value.set((t.x+1)/2,(t.y+1)/2),i.renderRipples(e),i.renderer.setRenderTarget(i.lowResRenderTarget),i.renderer.render(i.mainScene,i.mainCamera),i.renderer.setRenderTarget(i.occlusionRenderTarget),i.occlusionComposer.render(),i.renderer.setRenderTarget(i.lowResEffectRenderTarget),i.effectComposer.render(),i.renderer.setRenderTarget(null),i.finalComposer.render(),i.frameId=window.requestAnimationFrame(i.renderScene)}),E(T(i),\"render\",function(){return e.default.createElement(\"div\",{ref:function(e){i.mount=e}})}),i.clock=new t.Clock,i}return S(C,[{key:\"componentDidMount\",value:function(){var e=this;function s(){var e=[1*window.innerWidth/8,1*window.innerHeight/8],t=e.map(Math.ceil);return{charCountPrecise:e,charCountCeil:t}}this.DEFAULT_LAYER=0,this.OCCLUSION_LAYER=1,this.FONT_MAP_SIZE=new t.Vector2(64,64),this.FONT_CHAR_SIZE=new t.Vector2(8,8),this.rotationClockwise=!0,this.mainScene=new t.Scene,this.mainCamera=new t.PerspectiveCamera(30,window.innerWidth/window.innerHeight,5,25),this.mainCamera.position.z=10,this.occlusionCamera=this.mainCamera.clone(),this.occlusionCamera.layers.set(this.OCCLUSION_LAYER),this.backLight=new t.PointLight(43775,50,0),this.backLight.layers.enable(this.OCCLUSION_LAYER),this.backLight.position.set(-10,0,5),this.mainScene.add(this.backLight),this.fillLight=new t.PointLight(43775,.7,10),this.fillLight.layers.enable(this.OCCLUSION_LAYER),this.fillLight.position.set(10,0,0),this.mainScene.add(this.fillLight),this.keyLight=new t.PointLight(16711935,50,20),this.keyLight.layers.enable(this.OCCLUSION_LAYER),this.keyLight.position.set(10,0,5),this.mainScene.add(this.keyLight),this.renderer=new t.WebGLRenderer,this.renderer.setSize(1*window.innerWidth,1*window.innerHeight),this.mount.appendChild(this.renderer.domElement),this.loader=new n.GLTFLoader,this.modelFile=require(\"./devface.glb\"),this.modelContainer=new t.Group,this.modelContainer.layers.enable(this.OCCLUSION_LAYER),this.mainScene.add(this.modelContainer),this.loader.load(this.modelFile,function(i){i.scene.scale.set(.2,.2,.2),e.modelContainer.position.set(0,-.3,0),e.modelContainer.add(i.scene);var n=i.scene.clone(),r=new t.MeshBasicMaterial({color:new t.Color(0)});n.traverse(function(t){t.material&&(t.material=r),t.layers&&t.layers.set(e.OCCLUSION_LAYER)}),e.modelContainer.add(n)},void 0,console.error),this.startingSizeData=s(),this.lowResRenderTarget=new t.WebGLRenderTarget(2*this.startingSizeData.charCountCeil[0],2*this.startingSizeData.charCountCeil[1]);var m=new t.DepthTexture;m.type=t.UnsignedShortType,this.lowResRenderTarget.depthTexture=m,this.lowResEffectRenderTarget=new t.WebGLRenderTarget(2*this.startingSizeData.charCountCeil[0],2*this.startingSizeData.charCountCeil[1]),this.occlusionRenderTarget=new t.WebGLRenderTarget(2*this.startingSizeData.charCountCeil[0],2*this.startingSizeData.charCountCeil[1]);var C=[],w=document.createElement(\"canvas\");w.width=w.style.width=1*window.innerWidth,w.height=w.style.height=1*window.innerHeight;var g=w.getContext(\"2d\"),y=new t.Texture(w);y.minFilter=t.NearestFilter,y.magFilter=t.NearestFilter;var v=!1,S=function(e){return 1- --e*e*e*e};this.renderRipples=function(e){C.length?(v=!0,g.fillStyle=\"rgb(128, 128, 0)\",g.fillRect(0,0,w.width,w.height),C.forEach(function(t,i){if(t.age+=.2*e,t.age>1)C.splice(i,1);else{var n=w.height*S(t.age),r=t.age<.2?S(t.age/.2):1-(t.age-.2)/.8,o=g.createRadialGradient(t.position.x,t.position.y,.25*n,t.position.x,t.position.y,n);o.addColorStop(1,\"rgba(128, 128, 0, 0.5)\"),o.addColorStop(.8,\"rgba(\".concat(t.color.x,\", \").concat(t.color.y,\", \").concat(16*r,\", \").concat(r,\")\")),o.addColorStop(0,\"rgba(0, 0, 0, 0)\"),g.beginPath(),g.fillStyle=o,g.arc(t.position.x,t.position.y,n,0,2*Math.PI),g.fill()}}),y.needsUpdate=!0):v&&(g.fillStyle=\"rgb(128, 128, 0)\",g.fillRect(0,0,w.width,w.height),v=!1,y.needsUpdate=!0)},window.addEventListener(\"click\",function(e){C.push({age:0,position:new t.Vector2(e.clientX,e.clientY),color:new t.Vector2(e.clientX/window.innerWidth*1*255,e.clientY/window.innerHeight*1*255)})}),window.addEventListener(\"touchend\",function(e){var i=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;C.push({age:0,position:new t.Vector2(i,n),color:new t.Vector2(i/window.innerWidth*1*255,n/window.innerHeight*1*255)})});var R,P,b,L,T,O=new t.Group;this.mainScene.add(O),T=this.mainCamera,R=2*T.position.z*Math.tan(.5*T.fov*t.Math.DEG2RAD),P=R*T.aspect,b=R/2,L=P/2,O.position.x=-L,O.position.y=b;for(var x=new t.BufferGeometry,E=[],M=[],_=0;_<90;_++){var A=Math.random()*P,k=-Math.random()*R,F=2.5*(2*Math.random()-1);E.push(A,k,F),M.push(1+3*Math.random())}var z=new Float32Array(M),I=new Float32Array(E),D=new t.Float32BufferAttribute(E,3);x.setAttribute(\"position\",D);var q=new t.ShaderMaterial((0,d.default)());q.uniforms.pointSize.value=2,q.uniforms.decayModifier.value=2.5;var N=new t.Points(x,q);O.add(N);var W=new t.Vector2(0,0);this.animateParticles=function(e){for(var t=0,i=0;i<90;i++)D.array[t]=(I[t]*L+z[i]*(1+4*W.x)*.2)%P,D.array[t+1]=(I[t+1]*b+z[i]*(1-4*W.y)*.1)%R,t+=3;D.needsUpdate=!0};var j=new t.CylinderGeometry(4,10,15,32,6,!0);j.applyMatrix4((new t.Matrix4).makeTranslation(0,-j.parameters.height/2,0)),j.applyMatrix4((new t.Matrix4).makeRotationX(-Math.PI/2)),this.lightCylinderMaterial=new t.ShaderMaterial((0,p.default)()),this.lightConeTarget=new t.Vector3(0,0,-8),this.lightCone=new t.Mesh(j,this.lightCylinderMaterial),this.lightCone.position.set(-5,5,-8),this.lightCone.layers.set(this.OCCLUSION_LAYER),this.lightCylinderMaterial.uniforms.spotPosition.value=this.lightCone.position,this.mainScene.add(this.lightCone);var H=new t.TextureLoader,U=require(\"./font3.png\"),Y=H.load(U);Y.minFilter=t.NearestFilter,Y.magFilter=t.NearestFilter;var G=new a.ShaderPass((0,c.default)());G.needsSwap=!1,G.uniforms.tLowRes.value=this.lowResEffectRenderTarget.texture,G.uniforms.tDepth.value=this.lowResRenderTarget.depthTexture,G.uniforms.cameraNear.value=this.mainCamera.near,G.uniforms.cameraFar.value=.35*this.mainCamera.far,G.uniforms.tFont.value=Y;var V=this.FONT_MAP_SIZE.x/this.FONT_CHAR_SIZE.x,X=this.FONT_MAP_SIZE.y/this.FONT_CHAR_SIZE.y;G.uniforms.fontCharTotalCount.value=Math.floor(V)*Math.floor(X),G.uniforms.fontCharSize.value.set(1/V,1/X),G.uniforms.fontCharCount.value.set(V,X),this.occlusionComposer=new r.EffectComposer(this.renderer,this.occlusionRenderTarget),this.occlusionComposer.renderToScreen=!1,this.occlusionComposer.addPass(new o.RenderPass(this.mainScene,this.occlusionCamera)),this.lightScatteringPass=new a.ShaderPass((0,f.default)()),this.lightScatteringPass.needsSwap=!1,this.occlusionComposer.addPass(this.lightScatteringPass),this.effectComposer=new r.EffectComposer(this.renderer,this.lowResEffectRenderTarget),this.effectComposer.renderToScreen=!1;var Z=new a.ShaderPass((0,l.default)());Z.textureID=null,Z.uniforms.tDiffuse.value=this.lowResRenderTarget.texture,Z.uniforms.tAdd.value=this.occlusionRenderTarget.texture,this.effectComposer.addPass(Z),this.scanPass=new a.ShaderPass((0,u.default)()),this.scanPass.uniforms.tDepth.value=m,this.scanPass.uniforms.cameraNear.value=this.mainCamera.near,this.scanPass.uniforms.cameraFar.value=this.mainCamera.far,this.effectComposer.addPass(this.scanPass);var B=new a.ShaderPass((0,h.default)());B.uniforms.tRipple.value=y,B.needsSwap=!1,this.effectComposer.addPass(B),this.finalComposer=new r.EffectComposer(this.renderer),this.finalComposer.addPass(G),window.addEventListener(\"mousemove\",function(t){!function(e,t,i){t.position.x=5*(e.clientX/window.innerWidth*1*2-1),i.position.x=t.position.x,W.set(e.clientX/window.innerWidth*1,e.clientY/window.innerHeight*1)}(t,e.lightCone,e.backLight)}),window.addEventListener(\"touchmove\",function(e){console.log(e.touches.length),e.touches.length<2&&(this.lightCone.position.x=5*(e.changedTouches[0].clientX/window.innerWidth*1*2-1),this.backLight.position.x=this.lightCone.position.x,W.set(e.changedTouches[0].clientX/window.innerWidth*1,e.changedTouches[0].clientY/window.innerHeight*1))}),this.updateAsciiRenderSize=function(){var t=s();G.uniforms.renderCharSize.value.set(1/t.charCountPrecise[0],1/t.charCountPrecise[1]),G.uniforms.renderCharCount.value.set(t.charCountPrecise[0],t.charCountPrecise[1]),e.lowResRenderTarget.setSize(2*t.charCountCeil[0],2*t.charCountCeil[1]),e.effectComposer.setSize(2*t.charCountCeil[0],2*t.charCountCeil[1]),e.occlusionComposer.setSize(2*t.charCountCeil[0],2*t.charCountCeil[1])},this.modelContainer.rotation.y=-1.57,this.resizeRenderer=function(){w.width=w.style.width=1*window.innerWidth,w.height=w.style.height=1*window.innerHeight,e.updateAsciiRenderSize(),e.renderer.setSize(1*window.innerWidth,1*window.innerHeight),e.mainCamera.aspect=window.innerWidth/window.innerHeight,e.mainCamera.updateProjectionMatrix(),e.occlusionCamera.aspect=e.mainCamera.aspect,e.occlusionCamera.updateProjectionMatrix()},this.resizeRenderer(),window.addEventListener(\"resize\",(0,i.default)(this.resizeRenderer,50)),this.start()}},{key:\"start\",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.renderScene))}},{key:\"stop\",value:function(){cancelAnimationFrame(this.frameId)}},{key:\"componentWillUnmount\",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}}]),C}();exports.default=M;"},"sourceMaps":null,"error":null,"hash":"15c625af78348074b49717b8d9d4a7e0","cacheData":{"env":{}}}